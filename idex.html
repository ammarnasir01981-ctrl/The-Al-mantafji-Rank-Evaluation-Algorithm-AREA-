<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مختبر AREA التجريبي - عمار ناصر حسين المنتفجي</title>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #1a1a2e;
            --success: #2ecc71;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #ecf0f1;
            line-height: 1.6;
            min-height: 100vh;
        }
        
        .header {
            background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 2rem;
            text-align: center;
            border-bottom: 5px solid var(--accent);
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: "⚛";
            position: absolute;
            font-size: 15rem;
            opacity: 0.1;
            right: -50px;
            top: -50px;
            transform: rotate(45deg);
        }
        
        .header h1 {
            font-size: 2.8rem;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .header h2 {
            font-size: 1.5rem;
            font-weight: 300;
            opacity: 0.9;
        }
        
        .lab-title {
            background: var(--accent);
            display: inline-block;
            padding: 0.5rem 2rem;
            border-radius: 30px;
            margin-top: 1rem;
            font-size: 1.3rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            transition: transform 0.3s ease;
        }
        
        .section:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        .section-title {
            color: var(--secondary);
            border-bottom: 2px solid var(--secondary);
            padding-bottom: 0.8rem;
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
        }
        
        .section-title i {
            margin-left: 10px;
            font-size: 1.5rem;
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 10px;
            padding: 1.5rem;
            border: 1px solid rgba(52, 152, 219, 0.3);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            background: rgba(52, 152, 219, 0.1);
            border-color: var(--secondary);
        }
        
        .card-title {
            color: var(--secondary);
            margin-bottom: 1rem;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
        }
        
        .card-title i {
            margin-left: 10px;
        }
        
        .equipment-list {
            list-style: none;
            padding-right: 1rem;
        }
        
        .equipment-list li {
            padding: 0.5rem 0;
            border-bottom: 1px dashed rgba(255,255,255,0.1);
            display: flex;
            justify-content: space-between;
        }
        
        .equipment-list li:last-child {
            border-bottom: none;
        }
        
        .status {
            font-weight: bold;
        }
        
        .status.available {
            color: var(--success);
        }
        
        .status.simulation {
            color: #f39c12;
        }
        
        .btn {
            background: var(--secondary);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            margin: 0.5rem;
        }
        
        .btn:hover {
            background: #2980b9;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .btn i {
            margin-left: 8px;
        }
        
        .btn-danger {
            background: var(--accent);
        }
        
        .btn-danger:hover {
            background: #c0392b;
        }
        
        .simulation-area {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 2rem;
            margin: 2rem 0;
            border: 2px solid var(--secondary);
        }
        
        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
        }
        
        .control-group label {
            margin-bottom: 0.5rem;
            color: var(--secondary);
            font-weight: bold;
        }
        
        .control-group input, .control-group select {
            padding: 0.8rem;
            border-radius: 5px;
            border: 1px solid rgba(255,255,255,0.2);
            background: rgba(0,0,0,0.3);
            color: white;
            font-size: 1rem;
        }
        
        .control-group input:focus, .control-group select:focus {
            outline: none;
            border-color: var(--secondary);
        }
        
        .results {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            padding: 1.5rem;
            margin-top: 2rem;
            border: 1px solid rgba(46, 204, 113, 0.3);
        }
        
        .result-item {
            display: flex;
            justify-content: space-between;
            padding: 0.8rem 0;
            border-bottom: 1px dashed rgba(255,255,255,0.1);
        }
        
        .result-item:last-child {
            border-bottom: none;
        }
        
        .result-value {
            font-weight: bold;
            color: var(--success);
        }
        
        .particle-visualization {
            height: 300px;
            background: rgba(0,0,0,0.5);
            border-radius: 10px;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .particle {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, var(--secondary), var(--primary));
            box-shadow: 0 0 20px var(--secondary);
            transition: all 1s ease;
        }
        
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-left: 10px;
        }
        
        .status-indicator.r1 {
            background: var(--success);
            box-shadow: 0 0 10px var(--success);
        }
        
        .status-indicator.r2 {
            background: var(--accent);
            box-shadow: 0 0 10px var(--accent);
        }
        
        .timeline {
            display: flex;
            justify-content: space-between;
            margin: 3rem 0;
            position: relative;
        }
        
        .timeline::before {
            content: "";
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--secondary);
            z-index: 0;
        }
        
        .timeline-item {
            background: var(--dark);
            border: 3px solid var(--secondary);
            border-radius: 50%;
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            position: relative;
            z-index: 1;
            transition: all 0.3s ease;
        }
        
        .timeline-item:hover {
            background: var(--secondary);
            transform: scale(1.1);
        }
        
        .timeline-item.active {
            background: var(--secondary);
            box-shadow: 0 0 20px var(--secondary);
        }
        
        .footer {
            text-align: center;
            padding: 2rem;
            margin-top: 3rem;
            border-top: 1px solid rgba(255,255,255,0.1);
            color: rgba(255,255,255,0.7);
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .grid {
                grid-template-columns: 1fr;
            }
            
            .timeline {
                flex-direction: column;
                align-items: center;
                gap: 2rem;
            }
            
            .timeline::before {
                width: 3px;
                height: 100%;
                top: 0;
                right: 50%;
                left: auto;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <header class="header">
        <h1>مختبر AREA التجريبي الافتراضي</h1>
        <h2>اختبار خوارزمية تقييم الرتبة المنطقية</h2>
        <div class="lab-title">عمار ناصر حسين المنتفجي</div>
    </header>
    
    <div class="container">
        <section class="section">
            <h2 class="section-title"><i class="fas fa-flask"></i> نظرة عامة على المختبر</h2>
            <p>مختبر AREA التجريبي الافتراضي هو بيئة محاكاة متكاملة مصممة لاختبار تنبؤات خوارزمية تقييم الرتبة المنطقية (AREA) في ظروف محاكاة للطاقة العالية. يعمل المختبر على محاكاة تجارب مسرعات الجسيمات باستخدام نموذج الهبوط التقاربي لتجنب التباعد النسبي عند السرعات القريبة من سرعة الضوء.</p>
            
            <div class="timeline">
                <div class="timeline-item active">1<br>الإعداد النظري</div>
                <div class="timeline-item">2<br>محاكاة المسرع</div>
                <div class="timeline-item">3<br>إنتاج الجسيمات</div>
                <div class="timeline-item">4<br>تحليل النتائج</div>
            </div>
        </section>
        
        <section class="section">
            <h2 class="section-title"><i class="fas fa-microscope"></i> المعدات والأدوات</h2>
            <div class="grid">
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-atom"></i> نظام التسريع</h3>
                    <ul class="equipment-list">
                        <li>مسرع خطي افتراضي <span class="status available">جاهز</span></li>
                        <li>مغناطيسات فائقة التوصيل <span class="status available">جاهز</span></li>
                        <li>أنظمة تبريد بالهيليوم <span class="status simulation">محاكاة</span></li>
                        <li>مصادر طاقة عالية الجهد <span class="status available">جاهز</span></li>
                    </ul>
                </div>
                
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-search"></i> أنظمة الكشف</h3>
                    <ul class="equipment-list">
                        <li>كواشف سيليكون دقيقة <span class="status available">جاهز</span></li>
                        <li>مطياف كتلة نسبي <span class="status simulation">محاكاة</span></li>
                        <li>مقاييس كالوريمترية <span class="status available">جاهز</span></li>
                        <li>أنظمة الزناد السريع <span class="status simulation">محاكاة</span></li>
                    </ul>
                </div>
                
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-laptop-code"></i> التحليل الحاسوبي</h3>
                    <ul class="equipment-list">
                        <li>حاسوب فائق افتراضي <span class="status available">جاهز</span></li>
                        <li>برامج محاكاة GEANT4 <span class="status simulation">محاكاة</span></li>
                        <li>منصة تحليل البيانات <span class="status available">جاهز</span></li>
                        <li>خوادم تخزين البيانات <span class="status available">جاهز</span></li>
                    </ul>
                </div>
            </div>
        </section>
        
        <section class="section">
            <h2 class="section-title"><i class="fas fa-play-circle"></i> محاكاة تجريبية</h2>
            
            <div class="simulation-area">
                <h3>تجربة انتقال الرتبة R1 → R2</h3>
                <p>اختبار انتقال الجسيمات من حالة المادة المتخصصة (R1) إلى حالة المعلومات التأسيسية (R2)</p>
                
                <div class="controls">
                    <div class="control-group">
                        <label for="particleType">نوع الجسيم:</label>
                        <select id="particleType">
                            <option value="electron">إلكترون (9.11×10⁻³¹ kg)</option>
                            <option value="proton">بروتون (1.67×10⁻²⁷ kg)</option>
                            <option value="neutron">نيوترون (1.67×10⁻²⁷ kg)</option>
                            <option value="custom">جسيم مخصص</option>
                        </select>
                    </div>
                    
                    <div class="control-group">
                        <label for="velocity">السرعة (نسبة من سرعة الضوء):</label>
                        <input type="range" id="velocity" min="0.1" max="0.9999" step="0.0001" value="0.9">
                        <div id="velocityValue">0.9c (269,813,212 m/s)</div>
                    </div>
                    
                    <div class="control-group">
                        <label for="energy">الطاقة المكتسبة ΔE (جول):</label>
                        <input type="range" id="energy" min="1e-20" max="2e-10" step="1e-12" value="1e-15">
                        <div id="energyValue">1×10⁻¹⁵ جول</div>
                    </div>
                    
                    <div class="control-group">
                        <label for="phi">الثابت التأسيسي Φ (جول):</label>
                        <input type="number" id="phi" value="1e-10" step="1e-11">
                    </div>
                </div>
                
                <div class="particle-visualization" id="particleViz">
                    <!-- سيتم إضافة الجسيم المتحرك عبر JavaScript -->
                </div>
                
                <div style="text-align: center;">
                    <button class="btn" id="startBtn"><i class="fas fa-play"></i> بدء التجربة</button>
                    <button class="btn btn-danger" id="resetBtn"><i class="fas fa-redo"></i> إعادة تعيين</button>
                    <button class="btn" id="autoBtn"><i class="fas fa-robot"></i> تشغيل تلقائي</button>
                </div>
                
                <div class="results" id="results" style="display: none;">
                    <h3>نتائج المحاكاة:</h3>
                    <div class="result-item">
                        <span>معامل لورنتز (γ):</span>
                        <span class="result-value" id="gammaResult">1.00</span>
                    </div>
                    <div class="result-item">
                        <span>عامل الهبوط (G_factor):</span>
                        <span class="result-value" id="gFactorResult">1.00</span>
                    </div>
                    <div class="result-item">
                        <span>الكتلة الفعالة (كجم):</span>
                        <span class="result-value" id="massResult">0.00</span>
                    </div>
                    <div class="result-item">
                        <span>حالة الرتبة:</span>
                        <span class="result-value" id="statusResult">غير محدد</span>
                        <span class="status-indicator" id="statusIndicator"></span>
                    </div>
                    <div class="result-item">
                        <span>نسبة التحول إلى R2:</span>
                        <span class="result-value" id="transitionResult">0%</span>
                    </div>
                    <div class="result-item">
                        <span>الطاقة نسبة إلى Φ:</span>
                        <span class="result-value" id="energyRatioResult">0%</span>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="section">
            <h2 class="section-title"><i class="fas fa-chart-line"></i> تحليل البيانات</h2>
            <div class="grid">
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-database"></i> قواعد البيانات</h3>
                    <p>تخزين نتائج 10,000 محاكاة تجريبية مع معاملات مختلفة</p>
                    <button class="btn"><i class="fas fa-cloud-download-alt"></i> تحميل البيانات</button>
                </div>
                
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-chart-bar"></i> المقارنة مع النسبية</h3>
                    <p>مقارنة تنبؤات AREA مع تنبؤات النسبية الخاصة عند سرعات مختلفة</p>
                    <button class="btn"><i class="fas fa-chart-bar"></i> عرض الرسوم البيانية</button>
                </div>
                
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-cogs"></i> التحليل الإحصائي</h3>
                    <p>تحليل دلالة النتائج باستخدام اختبارات إحصائية متقدمة</p>
                    <button class="btn"><i class="fas fa-calculator"></i> تشغيل التحليل</button>
                </div>
            </div>
        </section>
        
        <section class="section">
            <h2 class="section-title"><i class="fas fa-vial"></i> التجارب المقترحة</h2>
            <div class="grid">
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-bolt"></i> تجربة طيف الطاقة</h3>
                    <p>قياس توزيع الطاقة عند انتقال الجسيمات بين الرتب</p>
                    <button class="btn"><i class="fas fa-play"></i> تشغيل التجربة</button>
                </div>
                
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-crosshairs"></i> تجربة التصادم</h3>
                    <p>محاكاة تصادم جسيمين عند سرعات نسبية قصوى</p>
                    <button class="btn"><i class="fas fa-play"></i> تشغيل التجربة</button>
                </div>
                
                <div class="card">
                    <h3 class="card-title"><i class="fas fa-temperature-high"></i> تجربة درجات الحرارة العالية</h3>
                    <p>اختبار سلوك الجسيمات في ظروف بلازما عالية الطاقة</p>
                    <button class="btn"><i class="fas fa-play"></i> تشغيل التجربة</button>
                </div>
            </div>
        </section>
    </div>
    
    <footer class="footer">
        <p>مختبر AREA التجريبي الافتراضي - نموذج تعليمي وبحثي</p>
        <p>تم التطوير بواسطة: عمار ناصر حسين المنتفجي</p>
        <p>جميع الحقوق محفوظة © 2024 - هذا نموذج افتراضي لأغراض البحث العلمي</p>
        <div style="margin-top: 1rem;">
            <button class="btn"><i class="fas fa-print"></i> طباعة التقرير</button>
            <button class="btn"><i class="fas fa-save"></i> حفظ المشروع</button>
            <button class="btn"><i class="fas fa-share-alt"></i> مشاركة النتائج</button>
        </div>
    </footer>
    
    <script>
        // الثوابت الأساسية
        const C = 299792458; // سرعة الضوء m/s
        const ALPHA = 1.0; // ثابت الاقتران المعلوماتي
        
        // كتل الجسيمات (كجم)
        const PARTICLE_MASSES = {
            electron: 9.10938356e-31,
            proton: 1.6726219e-27,
            neutron: 1.67492749804e-27
        };
        
        // العناصر DOM
        const velocitySlider = document.getElementById('velocity');
        const velocityValue = document.getElementById('velocityValue');
        const energySlider = document.getElementById('energy');
        const energyValue = document.getElementById('energyValue');
        const particleType = document.getElementById('particleType');
        const phiInput = document.getElementById('phi');
        const startBtn = document.getElementById('startBtn');
        const resetBtn = document.getElementById('resetBtn');
        const autoBtn = document.getElementById('autoBtn');
        const resultsDiv = document.getElementById('results');
        const particleViz = document.getElementById('particleViz');
        
        // عناصر النتائج
        const gammaResult = document.getElementById('gammaResult');
        const gFactorResult = document.getElementById('gFactorResult');
        const massResult = document.getElementById('massResult');
        const statusResult = document.getElementById('statusResult');
        const statusIndicator = document.getElementById('statusIndicator');
        const transitionResult = document.getElementById('transitionResult');
        const energyRatioResult = document.getElementById('energyRatioResult');
        
        // تحديث القيم المعروضة للعناصر المنزلقة
        velocitySlider.addEventListener('input', function() {
            const v = parseFloat(this.value);
            velocityValue.textContent = `${v.toFixed(4)}c (${Math.round(v * C).toLocaleString()} m/s)`;
        });
        
        energySlider.addEventListener('input', function() {
            const e = parseFloat(this.value);
            energyValue.textContent = `${e.toExponential(2)} جول`;
        });
        
        // حساب معامل لورنتز
        function calculateLorentzFactor(v) {
            const beta = v;
            if (beta >= 1) return Infinity;
            return 1 / Math.sqrt(1 - beta * beta);
        }
        
        // حساب عامل الهبوط المعلوماتي
        function calculateGFactor(E, Phi) {
            if (E < Phi) {
                return Math.exp(-(ALPHA * E) / (Phi - E));
            } else {
                return 0;
            }
        }
        
        // تنفيذ خوارزمية AREA
        function runAREAAlgorithm() {
            const particle = particleType.value;
            const v = parseFloat(velocitySlider.value);
            const E = parseFloat(energySlider.value);
            const Phi = parseFloat(phiInput.value);
            
            let m0;
            if (particle === 'custom') {
                m0 = prompt("أدخل كتلة الجسيم المخصص (كجم):", "1e-30");
                m0 = parseFloat(m0);
            } else {
                m0 = PARTICLE_MASSES[particle];
            }
            
            const gamma = calculateLorentzFactor(v);
            const G_factor = calculateGFactor(E, Phi);
            const effectiveMass = (m0 * gamma) * G_factor;
            const status = G_factor > 0.5 ? "R1: المادة المتخصصة" : "R2: المعلومات التأسيسية";
            const transitionPercent = (1 - G_factor) * 100;
            const energyRatio = (E / Phi) * 100;
            
            // تحديث النتائج
            gammaResult.textContent = gamma.toFixed(6);
            gFactorResult.textContent = G_factor.toFixed(6);
            massResult.textContent = effectiveMass.toExponential(4);
            statusResult.textContent = status;
            transitionResult.textContent = `${transitionPercent.toFixed(2)}%`;
            energyRatioResult.textContent = `${energyRatio.toFixed(2)}%`;
            
            // تحديث مؤشر الحالة
            statusIndicator.className = "status-indicator";
            if (G_factor > 0.5) {
                statusIndicator.classList.add("r1");
            } else {
                statusIndicator.classList.add("r2");
            }
            
            // عرض النتائج
            resultsDiv.style.display = "block";
            
            // تحديث التصور البصري
            updateParticleVisualization(v, G_factor, status);
            
            // تسجيل البيانات
            logExperimentData({
                particle,
                m0,
                v,
                E,
                Phi,
                gamma,
                G_factor,
                effectiveMass,
                status,
                timestamp: new Date().toISOString()
            });
        }
        
        // تحديث التصور البصري للجسيم
        function updateParticleVisualization(v, G_factor, status) {
            particleViz.innerHTML = "";
            
            // خلفية التصور
            const grid = document.createElement("div");
            grid.style.position = "absolute";
            grid.style.width = "100%";
            grid.style.height = "100%";
            grid.style.backgroundImage = "linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)";
            grid.style.backgroundSize = "50px 50px";
            particleViz.appendChild(grid);
            
            // الجسيم المتحرك
            const particle = document.createElement("div");
            particle.className = "particle";
            
            // تحديد حجم الجسيم بناءً على G_factor
            const size = 20 + (G_factor * 60);
            particle.style.width = `${size}px`;
            particle.style.height = `${size}px`;
            
            // تحديد اللون بناءً على الحالة
            if (status.includes("R1")) {
                particle.style.background = "radial-gradient(circle at 30% 30%, #2ecc71, #27ae60)";
                particle.style.boxShadow = "0 0 20px #2ecc71";
            } else {
                particle.style.background = "radial-gradient(circle at 30% 30%, #e74c3c, #c0392b)";
                particle.style.boxShadow = "0 0 20px #e74c3c";
            }
            
            // تحديد الموضع والحركة بناءً على السرعة
            const startX = 50;
            const endX = particleViz.clientWidth - size - 50;
            const yPos = particleViz.clientHeight / 2 - size / 2;
            
            particle.style.left = `${startX}px`;
            particle.style.top = `${yPos}px`;
            
            particleViz.appendChild(particle);
            
            // تحريك الجسيم
            let pos = startX;
            const speed = v * 5; // عامل تحجيم للعرض البصري
            const moveInterval = setInterval(() => {
                pos += speed;
                particle.style.left = `${pos}px`;
                
                if (pos >= endX) {
                    clearInterval(moveInterval);
                    
                    // تأثير التحول إذا وصل إلى النهاية
                    if (status.includes("R2")) {
                        particle.style.transition = "all 1s ease";
                        particle.style.transform = "scale(0)";
                        particle.style.opacity = "0";
                        
                        // إضافة تأثير تحول
                        setTimeout(() => {
                            const transformation = document.createElement("div");
                            transformation.textContent = "R1 → R2";
                            transformation.style.position = "absolute";
                            transformation.style.left = `${endX}px`;
                            transformation.style.top = `${yPos}px`;
                            transformation.style.color = "#e74c3c";
                            transformation.style.fontSize = "24px";
                            transformation.style.fontWeight = "bold";
                            transformation.style.textShadow = "0 0 10px #e74c3c";
                            transformation.style.transition = "all 2s ease";
                            particleViz.appendChild(transformation);
                            
                            setTimeout(() => {
                                transformation.style.transform = "translateY(-100px)";
                                transformation.style.opacity = "0";
                            }, 500);
                        }, 1000);
                    }
                }
            }, 16); // ~60 إطار في الثانية
        }
        
        // تسجيل بيانات التجربة
        function logExperimentData(data) {
            // في تطبيق حقيقي، يتم إرسال البيانات إلى خادم
            console.log("بيانات التجربة:", data);
            
            // تخزين محلي للعرض التوضيحي
            let experiments = JSON.parse(localStorage.getItem('areaExperiments') || '[]');
            experiments.push(data);
            if (experiments.length > 100) experiments = experiments.slice(-100);
            localStorage.setItem('areaExperiments', JSON.stringify(experiments));
        }
        
        // التشغيل التلقائي
        function runAutoExperiment() {
            let v = 0.1;
            let E = 1e-20;
            const steps = 50;
            const vStep = (0.9999 - 0.1) / steps;
            const eStep = (2e-10 - 1e-20) / steps;
            
            let step = 0;
            const autoInterval = setInterval(() => {
                if (step >= steps) {
                    clearInterval(autoInterval);
                    autoBtn.innerHTML = '<i class="fas fa-robot"></i> تشغيل تلقائي';
                    autoBtn.disabled = false;
                    return;
                }
                
                v += vStep;
                E += eStep;
                
                velocitySlider.value = v;
                velocityValue.textContent = `${v.toFixed(4)}c (${Math.round(v * C).toLocaleString()} m/s)`;
                
                energySlider.value = E;
                energyValue.textContent = `${E.toExponential(2)} جول`;
                
                runAREAAlgorithm();
                step++;
            }, 500);
            
            autoBtn.innerHTML = '<i class="fas fa-stop"></i> إيقاف التشغيل التلقائي';
            autoBtn.disabled = true;
            
            // زر الإيقاف
            autoBtn.onclick = function() {
                clearInterval(autoInterval);
                autoBtn.innerHTML = '<i class="fas fa-robot"></i> تشغيل تلقائي';
                autoBtn.disabled = false;
                autoBtn.onclick = runAutoExperiment;
            };
        }
        
        // أحداث الأزرار
        startBtn.addEventListener('click', runAREAAlgorithm);
        resetBtn.addEventListener('click', function() {
            velocitySlider.value = 0.9;
            velocityValue.textContent = "0.9c (269,813,212 m/s)";
            energySlider.value = 1e-15;
            energyValue.textContent = "1×10⁻¹⁵ جول";
            phiInput.value = 1e-10;
            particleType.value = "electron";
            resultsDiv.style.display = "none";
            particleViz.innerHTML = "";
        });
        autoBtn.addEventListener('click', runAutoExperiment);
        
        // تهيئة أولية
        window.addEventListener('load', function() {
            // عرض مثال توضيحي عند التحميل
            setTimeout(() => {
                runAREAAlgorithm();
            }, 1000);
        });
        
        // إضافة تأثيرات إضافية
        document.querySelectorAll('.card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-10px)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });
    </script>
</body>
</html>